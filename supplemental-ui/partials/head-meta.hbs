{{!-- Early performance blocker script - load first to block slow external resources --}}
<script src="{{{uiRootPath}}}/js/performance-blocker.js"></script>

{{!-- Performance fixes to block slow external resources --}}
<link rel="stylesheet" href="{{{uiRootPath}}}/css/performance-fixes.css">

{{!-- Force PDF downloads instead of opening in browser --}}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Find all PDF download links and ensure they download instead of opening
    const pdfLinks = document.querySelectorAll('a[href$=".pdf"]');
    pdfLinks.forEach(link => {
      // Only modify links that contain 'microprofile-tutorial.pdf'
      if (link.href.includes('microprofile-tutorial.pdf')) {
        // Don't modify the href - let it use the original relative path
        // Just ensure it has the download attribute with proper filename
        link.setAttribute('download', 'microprofile-tutorial.pdf');
        console.log('PDF download link configured:', link.href);
      }
    });
  });
</script>

{{!-- Performance fixes to block slow external resources --}}
<link rel="stylesheet" href="{{{uiRootPath}}}/css/performance-fixes.css">

{{!-- Block external eclipse.org cookie consent resources to prevent slow loading --}}
<style>
  /* Hide any cookie consent elements that might be added */
  .cookie-consent, .cookieconsent, [class*="cookie"] {
    display: none !important;
  }
</style>

<script>
  // Override/disable any eclipse.org external script loading
  document.addEventListener('DOMContentLoaded', function() {
    // Remove any existing cookie consent links and scripts
    const cookieLinks = document.querySelectorAll('link[href*="eclipse.org"][href*="cookieconsent"]');
    cookieLinks.forEach(link => {
      console.log('Removing slow-loading eclipse.org cookie consent CSS:', link.href);
      link.remove();
    });
    
    const cookieScripts = document.querySelectorAll('script[src*="eclipse.org"][src*="cookieconsent"]');
    cookieScripts.forEach(script => {
      console.log('Removing slow-loading eclipse.org cookie consent JS:', script.src);
      script.remove();
    });
    
    // Prevent new cookie consent scripts from loading
    const originalCreateElement = document.createElement;
    document.createElement = function(tagName) {
      const element = originalCreateElement.call(document, tagName);
      if (tagName.toLowerCase() === 'script') {
        const originalSetAttribute = element.setAttribute;
        element.setAttribute = function(name, value) {
          if (name === 'src' && value && value.includes('eclipse.org') && value.includes('cookieconsent')) {
            console.log('Blocked slow-loading eclipse.org cookie consent script:', value);
            return; // Don't set the src attribute
          }
          return originalSetAttribute.call(this, name, value);
        };
      }
      return element;
    };
  });
</script>

{{!-- Favicons --}}
<link rel="icon" href="{{{uiRootPath}}}/img/favicon.svg" type="image/svg+xml">
<link rel="alternate icon" href="{{{uiRootPath}}}/img/favicon.png" type="image/png">
<link rel="shortcut icon" href="{{{uiRootPath}}}/img/favicon.png" type="image/png">